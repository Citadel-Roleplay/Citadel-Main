on_game_start = {
    on_actions = {
        set_provinces_start_citadel
        citadel_renown_set_duke_and_count
        citadel_renown_set_king_and_empire
        citadel_renown_set_hegemony
        citadel_renown_set_other
        
    }

    
}

set_provinces_start_citadel = {
    effect = {
        # Character Effects:
        character:Mopatis_1 = {
			add_gold = {
				value = {
					value = 1500
				}
			}
		}
		character:Baratheon_2 = {
			add_gold = {
				value = {
					value = 4000
				}
			}
		}
        character:Saan_2 = {
			add_barter_goods = {
				value = {
					value = 1423
				}
			}
		}
		    
        # title:b_ten_towers.title_province = {
        #     remove_building = harlaw_mines_01
        #     add_special_building = citadel_ten_towers_noport
        # }
        # title:b_blackhaven.title_province = {
        #     remove_building = agot_blackhaven_01
        #     add_special_building = blackhaven2
        # }
        title:b_port_of_arryn.title_province = {
            remove_building = portarryan_01
            add_special_building = gulltown_customs_house_01
        }
        title:b_fairgate_tower.title_province = {
            add_special_building = citadel_fairmarket3
        }
        title:b_lanniskeep.title_province = {
            remove_building = lannisport_01
            add_special_building = city_of_lannisport_01
        }
        title:b_debtors_docks.title_province = {
            add_special_building = lannisport_01
        }
        title:b_whitecaster.title_province = {
            add_special_building = citadel_fisher
        }
        title:b_spearwatch_island.title_province = {
            add_special_building = citadel_spearwatch_island
        }
        title:b_bottleneck.title_province = {
            add_special_building = citadel_princesspath
        }
        title:b_dunestale.title_province = {
            add_special_building = citadel_dornishdunes
        }
        title:b_truestable.title_province = {
            add_special_building = citadel_dornishdunes
        }
        title:b_scarcrest.title_province = {
            add_special_building = citadel_dornishdunes
        }
        title:b_dustwalk.title_province = {
            add_special_building = citadel_dornishdunes
        }
        title:b_first_well.title_province = {
            add_special_building = citadel_dornishdunes
        }
        title:b_goodsprings.title_province = {
            add_special_building = citadel_dornishdunes
        }
        title:b_three_strings.title_province = {
            add_special_building = citadel_dornishdunes
        }
        title:b_castle_burndune.title_province = {
            add_special_building = citadel_dornishdunes
        }
        title:b_willburn.title_province = {
            add_special_building = citadel_dornishdunes
        }
        title:b_hellholt.title_province = {
            add_special_building = citadel_dornishdunes
        }
        title:b_torrid_drifts.title_province = {
            add_special_building = citadel_dornishdunes
        }
        title:b_first_sand.title_province = {
            add_special_building = citadel_dornishdunes
        }
        title:b_arnight_hall.title_province = {
            add_special_building = citadel_dornishdunes
        }
        title:b_sulphur_hall.title_province = {
            add_special_building = citadel_dornishdunes
        }
        title:b_brimstone_hall.title_province = {
            add_special_building = citadel_dornishdunes
        }
        title:b_steamfall.title_province = {
            add_special_building = citadel_dornishdunes
        }
        title:b_dantellion.title_province = {
            add_special_building = citadel_dornishdunes
        }
        title:b_dustbowl_keep.title_province = {
            add_special_building = citadel_dornishdunes
        }
        title:b_desert_hearth.title_province = {
            add_special_building = citadel_dornishdunes
        }
        title:b_blackcrown.title_province = {
            add_special_building = citadel_singingcliffs
        }
        title:b_bandallon.title_province = {
            add_special_building = citadel_bandallon
        }
        title:b_bloatstone.title_province = {
            add_special_building = citadel_saltcliffe
        }
        title:b_blacktyde_castle.title_province = {
            add_special_building = citadel_blacktyde
        }
        title:b_needlewater.title_province = {
            add_special_building = citadel_crackclaw_mountains
        }
        title:b_dyre_den.title_province = {
            add_special_building = citadel_crackclaw_mountains
        }
        title:b_plankside.title_province = {
            add_special_building = citadel_crackclaw_mountains
        }
        title:b_whispers.title_province = {
            remove_building = whispers_01
            add_special_building = citadel_whispers_ruin
        }
        title:b_castle_stokeworth.title_province = {
            add_special_building = citadel_castle_stokeworth
        }
        title:b_antlers.title_province = {
            add_special_building = citadel_antlers
        }
        title:b_maston.title_province = {
            add_special_building = citadel_maston
        }
        title:b_blackpool.title_province = {
            add_special_building = citadel_blackpool
        }
        title:b_castle_cerwyn.title_province = {
            add_special_building = citadel_castle_cerwyn
        }
        title:b_haystack_hall.title_province = {
            add_special_building = citadel_haystack_hall
        }
        title:b_cleganes_keep.title_province = {
            remove_building = fang_hill_kennel_01
        }
        title:b_deepen_hall.title_province = {
            add_special_building = citadel_dulver_mine1
        }
        title:b_viridian_stay.title_province = {
            add_special_building = citadel_saan_estate
        }
        title:b_three_towers.title_province = {
            add_special_building = citadel_three_towers
        } 
        title:b_skullhammer.title_province = {
            add_special_building = citadel_skullhammer
            add_building = agot_pirate_control_06
        }
        title:b_morrefall.title_province = {
            add_special_building = citadel_morrefall
        } 
        title:b_winehouse.title_province = {  
            add_special_building = citadel_vinetown
        }
        title:b_the_ring.title_province = {  
            add_special_building = citadel_the_ring 
        }
        title:b_longcove.title_province = {  
            add_special_building = citadel_longcove_center
        }
        title:b_footway.title_province = {  
            add_special_building = citadel_footway
        }
        title:b_newkeep.title_province = {  
            add_special_building = citadel_newkeep
            add_building = hill_forts_06
            add_building = military_camps_04
            add_building = barracks_06
            add_building = watermills_05
            add_building = smiths_04
        }
        title:b_hearts_home.title_province = {  
            add_special_building = citadel_hearts_home
        }  
        title:b_snakewood.title_province = {  
            add_special_building = citadel_snakewood
        } 
        title:b_silverhall.title_province = {  
            add_special_building = citadel_silverhall
            add_building = tax_assessor_03
        } 
        title:b_wesselvare.title_province = {  
            add_special_building = citadel_wesselvare
        } 
        title:b_argent_mine.title_province = {
            remove_building = silverhill_mines_01
        }
        title:b_new_barrel.title_province = {
            add_special_building = citadel_new_barrel
        }
        title:b_lakehaven.title_province = {
            add_special_building = citadel_lakehaven
        }
        title:b_uplands.title_province = {
            add_special_building = citadel_uplands
        }
        # title:b_spalding.title_province = {
        #     add_special_building = silverhill_mines_01
        # }
        title:b_sweetport.title_province = {
            add_special_building = citadel_sweetport
        } 
        title:b_starfish_harbor.title_province = {
            add_special_building = citadel_starfish_vineyards
        }  
        title:b_peach_port.title_province = {
            add_special_building = citadel_peachtree_vineyards
        } 
        title:b_stonecrab_cay.title_province = {
            add_special_building = citadel_stoneclaw_vineyards
        } 
        title:b_balmer_mill.title_province = {
            add_special_building = citadel_northmarch
        } 
        title:b_golden_vines.title_province = {
            add_special_building = citadel_golden_vines
        }  
        title:b_woodbine.title_province = {
            add_special_building = citadel_woodbine
        }  
        title:b_stillhouse.title_province = {
            add_special_building = citadel_stillhouse_vineyards
        }
        title:b_gallow_cove.title_province = {
            add_special_building = citadel_gallow_cove
        }
        title:b_maidenpool.title_province = {
            add_special_building = citadel_maidenpool
        }  
        title:b_willow_wood.title_province = {
            add_special_building = citadel_willow_wood_1
        }
        title:b_castle_darry.title_province = {
            add_special_building = citadel_castle_darry 
        }
        title:b_coughing_keep.title_province = {
            add_special_building = citadel_northern_steppes_01
        }
        title:b_flints_finger.title_province = {
            add_special_building = citadel_flints_finger
        }  
        title:b_hornwood.title_province = {
            add_special_building = agot_hornwood_forest_01
        }  
        title:b_torrhens_square.title_province = {
            add_special_building = agot_tallhart_torrhens_square_01
        }  
        title:b_oldcastle.title_province = {
            add_special_building = agot_locke_oldcastle_01
        }   
        title:b_whitewalls.title_province = {
            add_special_building = agot_butterwell_whitewalls_castle_01
        }
        title:b_ramsgate.title_province = {
            add_special_building = citadel_ramsgate
        }  
        title:b_wyverns_rest.title_province = {
            add_special_building = citadel_wyverns_rest
        } 
        title:b_sarsfield.title_province = { 
            add_special_building = citadel_sarsfield_1
        }  
        title:b_barrowton.title_province = { 
            add_special_building = citadel_barrowton
        }
        title:b_old_anchor.title_province = { 
            add_special_building = citadel_old_anchor
            add_building = agot_lighthouse_03
        }  
        title:b_longbow_hall.title_province = { 
            add_special_building = citadel_longbow_hall
            add_building = archery_ranges_03
        } 
        title:b_proudwood.title_province = { 
            add_special_building = citadel_ironoaks_quarry1
        }  
        title:b_ninestars.title_province = { 
            add_special_building = citadel_ninestars
        }  
        title:b_greenstone.title_province = { 
            add_special_building = citadel_greenstone
        }  
        title:b_harrentown.title_province = { 
            add_special_building = citadel_harrentown 
        } 
        # ADD NORMAL BUILDINGS
        title:b_silverhall.title_province = {  
            add_special_building = citadel_silverhall
            add_building = tax_assessor_01
        } 
        title:b_strongsong.title_province = {  
            add_building = tax_assessor_02
        } 
        title:b_west_jaw.title_province = {  
            add_building = quarriers_08
        } 
        title:b_deep_den.title_province = {  
            add_building = tax_assessor_03
            add_building = windmills_03
        } 
        title:b_ashemark.title_province = {  
            add_building = military_academy_02
        } 
        title:b_hardline.title_province = {
            add_building = quarries_08
        }
        title:b_hornvale.title_province = {
            add_building = tax_assessor_03
            add_building = windmills_02
        }
        title:b_pools_guard.title_province = {
            add_building = tax_assessor_03
        }
        title:b_west_tower.title_province = {
            add_special_building = citadel_westtwin
            add_building = curtain_walls_04
            add_building = military_camps_02
            add_building = barracks_04
            add_building = stables_02
            add_building = smiths_03
        }
        title:b_stonebushel.title_province = {
            add_building = outposts_06
            add_building = military_camps_04
            add_building = barracks_06
            add_building = workshops_07
            add_building = quarries_07
        } 
        title:b_cleganes_keep.title_province = {
            add_building = curtain_walls_06
            add_building = military_camps_04
            add_building = barracks_06
            add_building = stables_04
            add_building = smiths_04
        } 
        title:b_stone_hedge.title_province = {
            add_special_building = agot_stone_hedge_01
        }
        title:b_pick_hall.title_province = {
            add_building = curtain_walls_06
            add_building = barracks_06
            add_building = stables_04
            add_building = windmills_06
        } 
        title:b_hayholt.title_province = {
            add_special_building = citadel_hayholt
            add_building = tax_assessor_03
        } 
        title:b_balmer_mill.title_province = {
            add_special_building = watermills_08
        } 
        title:b_spalding.title_province = {  
            add_building = outposts_06
            add_building = military_camps_04
            add_building = barracks_06
            add_building = workshops_07
            add_building = quarries_07
        }
        title:b_karmfort.title_province = {  
            add_building = outposts_06
            add_building = military_camps_04
            add_building = barracks_06
            add_building = workshops_07
            add_building = quarries_07
        }
    }
}

citadel_renown_set_duke_and_count = { # Renown for 3 perks, duke and counts
	effect = {
		every_ruler = {
			limit = {
                NOR = { #Excludes characters to not double on any dynasties
                    this = character:Baelish_2
                    this = character:ArrynGT_5
                    this = character:Tully_9
                    this = character:LannisterLP_2
                    this = character:Karstark_4
                    this = character:Ryswell_4
                    this = character:Flint_5
                    this = character:Flint_9
                    this = character:Brownhollow_36
                    this = character:Dayne_11
                    this = character:Goldwyne_1
                    this = character:Fossoway_New_Barrel_4
                    this = character:Goodbrother_25
                    this = character:Goodbrother_23
                    this = character:GoodbrotherSS_60
                    this = character:Kenning_1
                    this = character:FarwyndDL_4
                    this = character:FarwyndLL_1
                    this = character:Harlaw_5
                    this = character:Harlaw_6
                    this = character:Harlaw_4
                    this = character:Shett_32
                    this = character:Vance_Atranta_1
                    this = character:FlintFC_85
                }
                this = dynasty.dynast
				exists = dynasty
                OR = {
                    highest_held_title_tier = tier_duchy
                    highest_held_title_tier = tier_county
                }
			}
			dynasty = { add_dynasty_prestige = 2250 }
		}
	}	
}

citadel_renown_set_king_and_empire = { # Renown for 4 perks, king and empire
	effect = {
		every_ruler = {
			limit = {
                NOR = { #Excludes characters to not double on any dynasties
                    this = character:Baratheon_3
                    this = character:Baratheon_4
                }
				exists = dynasty
                OR = {
                    highest_held_title_tier = tier_kingdom
                    highest_held_title_tier = tier_empire 
                }
			}
			dynasty = { add_dynasty_prestige = 4000 }
		}
	}	
}

citadel_renown_set_hegemony = { # Renown for 5 perks, hegemon and targs
	effect = {
		every_ruler = {
			limit = {
                # NOR = { #Excludes characters to not double on any dynasties
                #     character:Blank_1
                # }
				exists = dynasty
				highest_held_title_tier = tier_hegemony 
			}
			dynasty = { add_dynasty_prestige = 6250}
		}
	}	
}

citadel_renown_set_other = {
    effect = {
        dynasty:dynn_Targaryen = {
			add_dynasty_prestige = 6250
        }
    }
}
